{"version":3,"sources":["logo.svg","SearchBar.js","SearchResults.js","SeekZone.js","LoadingAnimation.js","DetailsModal.js","DataVisuals.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SearchBar","props","handleSearchBarChange","bind","event","this","onSearchTextChange","target","value","type","placeholder","searchText","onChange","Component","SearchResults","organiseResults","clickResult","results","map","location","ind","locationString","city","state","displayName","country","className","key","onClick","e","metroArea","id","stateInclude","string","locationSearch","onResultClick","apiResults","SeekZone","searchResults","handleSearchTextChange","handleSearchResultClick","input","setState","query","fetch","then","response","status","console","log","json","data","resultsPage","totalEntries","slice","LoadingAnimation","active","color","text","DetailsModal","exitModal","exitFunc","content","selectedData","alt","xmlns","viewBox","d","name","toLowerCase","range","join","events","eventGenres","artists","filter","artist","topGenres","flat","genre","sort","a","b","count","href","link","rel","date","replace","version","transform","overlayClassName","isOpen","selection","length","checkData","closeTimeoutMS","onRequestClose","disableAutoFocus","appElement","document","getElementById","React","JoyPlot","dimensions","rectCount","xScale","modal","xAxisRef","createRef","brushRef","renderAxes","renderBrushes","clearModal","xAxis","d3","ticks","window","innerWidth","scale","current","call","forEach","point","topLeft","margin","left","top","height","bottomRight","width","currentBrush","append","attr","genreBrush","extent","on","minX","maxX","invert","values","weight","curDate","Date","details","hit","push","dates","move","rectcount","right","bottom","items","index","x","y","rect","bandwidth","yScale","chroma","cScale","colorScale","hex","calcWaveRects","empty","fill","renderGenre","keys","item","from","opacity","to","g","style","ref","nextProps","dataSet","parseTime","nested","rollup","v","thing","self","findIndex","t","place","entries","xExtent","usableData","nestedData","dateExtent","formattedData","newGenre","found","curValue","date1","date2","cur","getFullYear","getMonth","getDate","setDate","formatZeroValues","domain","globalYScale","Math","floor","yExtent","paddingInner","App","loading","ready","stats","wakeUpServer","homeReset","locationId","src","logo","data-name","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.9f232f9b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d762816.svg\";","import React, { Component } from \"react\";\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSearchBarChange = this.handleSearchBarChange.bind(this);\n  }\n\n  handleSearchBarChange(event) {\n    this.props.onSearchTextChange(event.target.value);\n  }\n\n  render() {\n    return (\n      <div>\n        <input\n          type=\"text\"\n          placeholder=\"Search location...\"\n          value={this.props.searchText}\n          onChange={this.handleSearchBarChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport \"./SearchResults.css\";\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n\n    this.organiseResults = this.organiseResults.bind(this);\n    this.clickResult = this.clickResult.bind(this);\n  }\n\n  organiseResults(results) {\n    return results.map((location, ind) => {\n      const locationString = location.city.state\n        ? location.city.displayName +\n          \", \" +\n          location.city.state.displayName +\n          \", \" +\n          location.city.country.displayName\n        : location.city.displayName + \", \" + location.city.country.displayName;\n\n      return (\n        <li\n          className=\"result\"\n          key={ind}\n          onClick={e =>\n            this.clickResult(location.metroArea.id, locationString, e)\n          }\n        >\n          <div className=\"city\">{location.city.displayName}, </div>\n          {stateInclude(location)}\n          <div className=\"country\">{location.city.country.displayName}</div>\n        </li>\n      );\n\n      function stateInclude(location) {\n        if (location.city.state) {\n          return (\n            <div className=\"state\">{location.city.state.displayName}, </div>\n          );\n        } else return null;\n      }\n    });\n  }\n\n  clickResult(id, string) {\n    this.props.locationSearch(id, string);\n    this.props.onResultClick();\n  }\n\n  render() {\n    return (\n      <ul id=\"search-results\">{this.organiseResults(this.props.apiResults)}</ul>\n    );\n  }\n}\n\nexport default SearchResults;\n","import React, { Component } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport SearchResults from \"./SearchResults\";\nimport \"./SeekZone.css\";\n\nclass SeekZone extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchText: \"\",\n      searchResults: null\n      // searchHighlight: null\n    };\n\n    this.handleSearchTextChange = this.handleSearchTextChange.bind(this);\n    this.handleSearchResultClick = this.handleSearchResultClick.bind(this);\n  }\n\n  handleSearchTextChange(input) {\n    this.setState(\n      {\n        searchText: input\n      },\n      () => {\n        // Callback after updating state - queries the Heroku API\n        const query = this.state.searchText;\n        if (query !== \"\") {\n          const URL = \"https://music-forecast.herokuapp.com/locations/\" + query;\n\n          fetch(URL)\n            .then(response => {\n              if (response.status !== 200) {\n                console.log(\n                  \"Looks like there was a problem with the SongKick location API. Status Code: \" +\n                    response.status\n                );\n                return;\n              } else return response.json();\n            })\n            .then(data => {\n              if (data.resultsPage.totalEntries > 0) {\n                this.setState({\n                  searchResults: data.resultsPage.results.location.slice(0, 7)\n                });\n              } else {\n                this.setState({\n                  searchResults: null\n                });\n              }\n            });\n        }\n      }\n    );\n  }\n\n  handleSearchResultClick() {\n    this.setState({\n      searchText: \"\",\n      searchResults: null\n    });\n  }\n\n  // handleArrowClick(direction) {\n\n  // }\n\n  render() {\n    let results;\n    if (this.state.searchResults) {\n      results = (\n        <div id=\"searchResults\">\n          <SearchResults\n            apiResults={this.state.searchResults}\n            locationSearch={this.props.locationSearch}\n            onResultClick={this.handleSearchResultClick}\n          />\n        </div>\n      );\n    } else results = null;\n\n    return (\n      <div id=\"seek\">\n        <div id=\"searchbar\">\n          <SearchBar\n            searchText={this.state.searchText}\n            onSearchTextChange={this.handleSearchTextChange}\n          />\n        </div>\n        {results}\n      </div>\n    );\n  }\n}\n\nexport default SeekZone;\n","import React, { Component } from \"react\";\nimport { ScaleLoader } from \"react-spinners\";\n\nclass LoadingAnimation extends Component {\n  render() {\n    if (!this.props.active) return null;\n    return (\n      <div>\n        <ScaleLoader color=\"rgb(50, 50, 50)\" />\n        <p>{this.props.text}</p>\n        {/* <p>( loading... this might take a while )</p> */}\n      </div>\n    );\n  }\n}\n\nexport default LoadingAnimation;\n","import React from \"react\";\nimport Modal from \"react-modal\";\n// import * as d3 from \"d3\";\n\nclass DetailsModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.exitModal = this.exitModal.bind(this);\n  }\n\n  exitModal() {\n    this.props.exitFunc();\n  }\n\n  render() {\n    const active = this.props.selectedData !== null ? true : false;\n    const content = active ? (\n      <div className=\"modal-container\">\n        <svg\n          className=\"close-btn\"\n          alt=\"close\"\n          onClick={this.exitModal}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 802.5 802.5\"\n        >\n          <g>\n            <path d=\"M401.25,246.25l235-235c15-15,39-15,55,0l100,101a39.24,39.24,0,0,1,0,55l-234,234,234,235c15,15,15,39,0,55l-100,100c-16,15-40,15-55,0l-235-234-234,234a39.24,39.24,0,0,1-55,0l-101-100c-15-16-15-40,0-55l235-235-235-234a39.24,39.24,0,0,1,0-55l101-101a39.24,39.24,0,0,1,55,0Z\" />\n          </g>\n        </svg>\n        <div className=\"modal-header\">\n          <div>\n            <div className=\"genre-name\">\n              {this.props.selectedData.name.toLowerCase()}\n            </div>\n            <div className=\"city-name\">\n              {\" \"}\n              in {this.props.selectedData.location}\n            </div>\n          </div>\n          <div className=\"date-range\">\n            {this.props.selectedData.range.join(\" to \")}\n          </div>\n        </div>\n        <div className=\"event-cont\">\n          {this.props.selectedData.events.map(event => {\n            const eventGenres = event.artists\n              .filter(artist => artist.topGenres)\n              .map(artist => artist.topGenres.slice(0, 5))\n              .flat()\n              .filter(genre => genre.name !== \"seen live\")\n              .sort((a, b) => b.count - a.count)\n              .slice(0, 3)\n              .map(genre => genre.name.toLowerCase());\n            // .reduce((acc, cur) => {});\n\n            return (\n              <a\n                href={event.link}\n                key={event.link}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                <div className=\"event-box\">\n                  <div className=\"event-header\">\n                    <div className=\"event-date\">{event.date}</div>\n                    <div className=\"event-genres\">{eventGenres.join(\", \")}</div>\n                  </div>\n                  <div className=\"event-name\">\n                    {event.name.replace(/\\(\\w+ \\d+, \\d+\\)/g, \"\")}\n                  </div>\n                </div>\n              </a>\n            );\n          })}\n        </div>\n        <div id=\"modal-footer\">\n          <a href=\"https://www.songkick.com\">\n            <svg\n              id=\"songkick-logo\"\n              viewBox=\"0 0 427 150\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <title>powered by songkick</title>\n              <g id=\"powered-by-songkick-white\">\n                <g id=\"by-Songkick\" transform=\"translate(5.000000, 30.000000)\">\n                  <path d=\"M267.446587,68.6751636 C263.063099,68.6751636 260.168022,67.3898789 257.14048,62.6644252 C254.189142,57.967134 249.242657,50.0641497 249.242657,50.0641497 L270.754354,20.0909948 L252.072041,20.0909948 L234.993595,43.8753242 L234.993595,0.9684029 L219.382088,0.9684029 L219.382088,83.347811 L234.993595,83.347811 L234.993595,57.1989069 C234.993595,57.1989069 243.736169,70.931102 246.390844,75.1636467 C250.672322,81.6934816 256.379389,83.4190458 265.851705,83.4190458 L270.415383,83.4078317 L270.415383,68.6807707 C268.756785,68.6807707 268.75876,68.6751636 267.446587,68.6751636 L267.446587,68.6751636 Z M410.735058,68.6751636 C406.351569,68.6751636 403.457449,67.3898789 400.42997,62.6644252 C397.477613,57.967134 392.531127,50.0641497 392.531127,50.0641497 L414.042825,20.0909948 L395.360512,20.0909948 L378.281046,43.8753242 L378.281046,0.9684029 L362.670559,0.9684029 L362.670559,83.347811 L378.281046,83.347811 L378.281046,57.1989069 C378.281046,57.1989069 387.024639,70.931102 389.680334,75.1636467 C393.960729,81.6934816 399.66735,83.4190458 409.140558,83.4190458 L413.703854,83.4078317 L413.703854,68.6807707 C412.045702,68.6807707 412.047231,68.6751636 410.735058,68.6751636 L410.735058,68.6751636 Z M24.711413,84.0318052 C14.989265,84.0318052 7.04958,82.2480044 0.62921,75.6489736 L10.619666,65.6585803 C13.919469,68.9580639 19.716694,70.1178912 24.799532,70.1178912 C30.954652,70.1178912 33.898535,68.0681387 33.898535,64.4106334 C33.898535,62.8930392 33.544081,61.641333 32.650588,60.6558971 C31.848655,59.8539641 30.508638,59.2262313 28.457292,58.9601522 L20.788402,57.8922037 C15.167925,57.0884229 10.88702,55.2148458 8.032212,52.2713451 C5.0868,49.2397248 3.662678,44.9584372 3.662678,39.5191063 C3.662678,27.9229993 12.403786,19.4465047 26.851387,19.4465047 C35.94988,19.4465047 42.818813,21.5880724 48.2591,27.0292511 L38.447813,36.839837 C34.432158,32.8264126 29.170086,33.0943395 26.405437,33.0943395 C20.96515,33.0943395 18.736546,36.2177113 18.736546,38.9814047 C18.736546,39.7851855 19.00339,40.943165 19.985449,41.9249054 C20.788402,42.7286862 22.122939,43.5306192 24.356513,43.7985461 L32.024384,44.8703176 C37.733426,45.6703391 41.836181,47.4541399 44.51271,50.1316252 C47.902161,53.4311725 49.238164,58.1563714 49.238164,64.0547143 C49.238164,76.9886719 38.09132,84.0318052 24.711413,84.0318052 L24.711413,84.0318052 Z M96.489325,76.8967931 C91.850015,81.5360387 86.496765,84.0318052 78.737843,84.0318052 C70.977392,84.0318052 65.625735,81.5360387 60.98942,76.8967931 C54.298638,70.2078586 54.566437,61.2835661 54.566437,51.7354913 C54.566437,42.1928323 54.298638,33.2722991 60.98942,26.5833646 C65.625735,21.944119 70.977392,19.4465047 78.737843,19.4465047 C86.496765,19.4465047 91.850015,21.944119 96.489325,26.5833646 C103.177048,33.2722991 102.910205,42.1928323 102.910205,51.7354913 C102.910205,61.2835661 103.177048,70.2078586 96.489325,76.8967931 L96.489325,76.8967931 Z M78.737843,33.3622664 C75.883545,33.3622664 73.653476,34.6119974 72.495687,36.1278713 C71.069972,37.9996643 70.175969,40.141232 70.175969,51.7354913 C70.175969,63.3426849 71.069972,65.3925012 72.495687,67.2662057 C73.653476,68.7819521 75.883545,70.1178912 78.737843,70.1178912 C81.592651,70.1178912 83.822211,68.7819521 84.982102,67.2662057 C86.40769,65.3925012 87.299781,63.3426849 87.299781,51.7354913 C87.299781,40.141232 86.40769,37.9996643 84.982102,36.1278713 C83.822211,34.6119974 81.592651,33.3622664 78.737843,33.3622664 L78.737843,33.3622664 Z M332.758253,84.104824 C325.355696,84.104824 319.73624,81.6072098 315.097886,76.9679641 C308.414622,70.2808775 308.680956,61.3528894 308.680956,51.8085101 C308.680956,42.2603078 308.414622,33.3434701 315.097886,26.6563835 C319.73624,22.0172015 325.355696,19.5176758 332.758253,19.5176758 C344.802095,19.5176758 354.52284,26.2086492 356.841539,40.2124031 L340.966757,40.2124031 C339.98508,36.6430811 338.02332,33.4335012 332.848348,33.4335012 C329.99354,33.4335012 327.855095,34.5933286 326.693229,36.109075 C325.266621,37.9827158 324.286474,40.2124031 324.286474,51.8085101 C324.286474,63.4100967 325.266621,65.6416955 326.693229,67.5134885 C327.855095,69.0312102 329.99354,70.1909101 332.848348,70.1909101 C338.02332,70.1909101 339.98508,66.9794824 340.966757,63.4100967 L356.841539,63.4100967 C354.52284,77.4121303 344.802095,84.104824 332.758253,84.104824 L332.758253,84.104824 Z M196.180381,88.174446 C196.180381,96.534722 190.405584,98.013003 186.671746,98.013003 L180.996028,98.050469 L180.996028,111.975597 L187.918674,112 C203.454039,111.900666 211.926775,103.783978 211.926775,88.202609 L211.871533,41.3141212 C211.871533,34.0012132 208.505466,28.2002925 203.579433,24.4567065 C199.185495,21.1196941 193.5431,19.4428092 187.918674,19.4428092 C180.515671,19.4428092 174.89666,21.9422712 170.261811,26.5815168 C163.569117,33.2686035 163.838892,42.1853775 163.838892,51.7335798 C163.838892,61.2779591 163.569117,70.2059471 170.261811,76.8930975 C174.89666,81.5322794 180.515671,84.0298937 187.918674,84.0298937 C190.791895,84.0298937 193.382854,83.4565746 196.180381,82.1130533 L196.180381,88.174446 L196.180381,88.174446 Z M188.009278,70.1159797 C185.154025,70.1159797 183.013986,68.9561524 181.854222,67.4385582 C180.426532,65.5667652 179.446384,63.3351664 179.446384,51.7335798 C179.446384,40.1374727 180.426532,37.9077854 181.854222,36.0341447 C183.013986,34.5182708 185.154025,33.3585709 188.009278,33.3585709 C193.094665,33.3585709 195.072801,36.4593871 196.071872,39.957538 L196.071872,63.5188604 C195.072801,67.0113406 193.094665,70.1159797 188.009278,70.1159797 L188.009278,70.1159797 Z M157.543405,47.510274 C157.543405,41.0292457 157.801775,33.2442002 151.119531,26.5645683 C146.483216,21.9253227 141.132005,19.4278359 133.369578,19.4278359 C125.610593,19.4278359 120.25747,21.9253227 115.620072,26.5645683 C108.930947,33.2535028 109.197217,41.4378582 109.197217,47.5065784 L109.193203,83.477155 L124.790819,83.4733957 L124.806748,47.5065784 C124.806748,39.389826 125.697693,38.1982679 127.126403,36.3263475 C128.28623,34.8106011 130.513815,33.3434701 133.369578,33.3434701 C136.224896,33.3434701 138.454456,34.8106011 139.612308,36.3263475 C141.039425,38.1982679 141.931962,39.1781605 141.931962,47.5458914 L141.903035,83.4471446 L157.504092,83.471548 L157.543405,47.510274 L157.543405,47.510274 Z M292.209854,12.3375526 L292.209854,0.9833762 L276.659578,0.9814648 L276.657539,12.3114289 L292.209854,12.3375526 L292.209854,12.3375526 Z M276.240899,20.0985771 L292.11275,20.1079434 L292.115235,58.8987297 C292.140466,65.4279274 296.549505,68.6695566 301.732952,68.6695566 L303.566897,68.6733159 L303.566897,83.4303235 L300.268433,83.4659409 C284.426974,83.3666073 276.261351,74.6877498 276.261351,59.4229872 L276.240899,20.0985771 L276.240899,20.0985771 Z\" />\n                </g>\n                <path\n                  d=\"M24.348,21.316 C24.348,18.472 24.456,15.088 22.548,13.18 C21.432,12.064 19.704,11.416 17.832,11.416 C15.816,11.416 14.556,12.028 13.368,13.216 L13.368,11.632 L7.644,11.632 L7.644,37.264 L13.548,37.264 L13.548,29.596 C14.628,30.676 15.96,31.216 17.868,31.216 C19.74,31.216 21.432,30.568 22.548,29.452 C24.456,27.544 24.348,24.16 24.348,21.316 L24.348,21.316 Z M18.444,21.316 C18.444,24.124 18.192,25.888 15.996,25.888 C13.8,25.888 13.548,24.124 13.548,21.316 C13.548,18.508 13.8,16.744 15.996,16.744 C18.192,16.744 18.444,18.508 18.444,21.316 L18.444,21.316 Z M43.148,21.316 C43.148,17.536 42.644,15.664 41.024,13.9 C39.872,12.676 37.928,11.416 34.796,11.416 C31.664,11.416 29.72,12.676 28.568,13.9 C26.948,15.664 26.444,17.536 26.444,21.316 C26.444,25.132 26.948,26.968 28.568,28.732 C29.72,29.956 31.664,31.216 34.796,31.216 C37.928,31.216 39.872,29.956 41.024,28.732 C42.644,26.968 43.148,25.132 43.148,21.316 L43.148,21.316 Z M37.244,21.316 C37.244,23.224 37.136,24.592 36.38,25.348 C36.02,25.708 35.516,25.888 34.796,25.888 C34.076,25.888 33.572,25.708 33.212,25.348 C32.456,24.592 32.348,23.224 32.348,21.316 C32.348,19.408 32.456,18.04 33.212,17.284 C33.572,16.924 34.076,16.744 34.796,16.744 C35.516,16.744 36.02,16.924 36.38,17.284 C37.136,18.04 37.244,19.408 37.244,21.316 L37.244,21.316 Z M71.776,11.632 L65.548,11.632 L63.136,21.676 L59.788,11.632 L55.684,11.632 L52.336,21.676 L49.924,11.632 L43.696,11.632 L49.528,31 L54.244,31 L57.736,20.38 L61.228,31 L65.944,31 L71.776,11.632 Z M89.532,23.224 L89.532,20.596 C89.532,15.52 86.436,11.416 80.82,11.416 C75.744,11.416 72.144,14.98 72.144,21.316 C72.144,29.668 77.076,31.216 81.36,31.216 C84.96,31.216 86.904,30.136 88.884,28.156 L85.356,24.628 C84.312,25.672 83.412,26.248 81.36,26.248 C79.164,26.248 77.94,24.808 77.94,23.224 L89.532,23.224 Z M83.7,19.3 L77.94,19.3 C77.94,18.832 78.012,18.292 78.264,17.788 C78.624,16.96 79.416,16.276 80.82,16.276 C82.224,16.276 83.016,16.96 83.376,17.788 C83.628,18.292 83.7,18.832 83.7,19.3 L83.7,19.3 Z M107,13.216 C105.668,11.884 104.372,11.416 102.464,11.416 C100.448,11.416 98.756,12.352 97.892,13.216 L97.892,11.632 L92.132,11.632 L92.132,31 L98.036,31 L98.036,19.408 C98.036,17.212 99.62,16.744 100.412,16.744 C101.42,16.744 101.96,17.176 102.536,17.752 L107,13.216 Z M124.756,23.224 L124.756,20.596 C124.756,15.52 121.66,11.416 116.044,11.416 C110.968,11.416 107.368,14.98 107.368,21.316 C107.368,29.668 112.3,31.216 116.584,31.216 C120.184,31.216 122.128,30.136 124.108,28.156 L120.58,24.628 C119.536,25.672 118.636,26.248 116.584,26.248 C114.388,26.248 113.164,24.808 113.164,23.224 L124.756,23.224 Z M118.924,19.3 L113.164,19.3 C113.164,18.832 113.236,18.292 113.488,17.788 C113.848,16.96 114.64,16.276 116.044,16.276 C117.448,16.276 118.24,16.96 118.6,17.788 C118.852,18.292 118.924,18.832 118.924,19.3 L118.924,19.3 Z M143.376,31 L143.376,5.368 L137.472,5.368 L137.472,13.036 C136.392,11.956 135.06,11.416 133.152,11.416 C131.28,11.416 129.588,12.064 128.472,13.18 C126.564,15.088 126.672,18.472 126.672,21.316 C126.672,24.16 126.564,27.544 128.472,29.452 C129.588,30.568 131.316,31.216 133.188,31.216 C135.204,31.216 136.464,30.604 137.652,29.416 L137.652,31 L143.376,31 Z M137.472,21.316 C137.472,24.124 137.22,25.888 135.024,25.888 C132.828,25.888 132.576,24.124 132.576,21.316 C132.576,18.508 132.828,16.744 135.024,16.744 C137.22,16.744 137.472,18.508 137.472,21.316 L137.472,21.316 Z M170.536,21.316 C170.536,18.472 170.644,15.088 168.736,13.18 C167.62,12.064 165.928,11.416 164.056,11.416 C162.148,11.416 160.816,11.956 159.736,13.036 L159.736,5.368 L153.832,5.368 L153.832,31 L159.556,31 L159.556,29.416 C160.744,30.604 162.004,31.216 164.02,31.216 C165.892,31.216 167.62,30.568 168.736,29.452 C170.644,27.544 170.536,24.16 170.536,21.316 L170.536,21.316 Z M164.632,21.316 C164.632,24.124 164.38,25.888 162.184,25.888 C159.988,25.888 159.736,24.124 159.736,21.316 C159.736,18.508 159.988,16.744 162.184,16.744 C164.38,16.744 164.632,18.508 164.632,21.316 L164.632,21.316 Z M189.876,11.632 L183.684,11.632 L180.552,21.676 L177.276,11.632 L171.084,11.632 L177.528,29.092 L176.988,30.712 C176.592,31.9 176.052,32.152 175.008,32.152 L173.748,32.152 L173.748,37.48 L175.98,37.48 C177.708,37.48 179.184,37.084 180.336,35.86 C180.948,35.248 181.452,34.42 181.848,33.304 L189.876,11.632 Z\"\n                  id=\"powered-by\"\n                />\n              </g>\n            </svg>\n          </a>\n        </div>\n      </div>\n    ) : null;\n\n    function checkData(active, selection) {\n      if (active) {\n        if (selection.events.length > 0) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    return (\n      <Modal\n        className=\"modal-content\"\n        overlayClassName=\"modal-overlay\"\n        isOpen={checkData(this.props.active, this.props.selectedData)}\n        closeTimeoutMS={200}\n        onRequestClose={this.exitModal}\n        disableAutoFocus={true}\n        appElement={document.getElementById(\"root\")}\n      >\n        {content}\n      </Modal>\n    );\n  }\n}\n\nexport default DetailsModal;\n","import React from \"react\";\nimport * as d3 from \"d3\";\nimport \"./DataVisuals.css\";\nimport { Trail, animated } from \"react-spring/renderprops\";\nimport DetailsModal from \"./DetailsModal\";\nimport chroma from \"chroma-js\";\n\nclass JoyPlot extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      dimensions: {},\n      rectCount: null,\n      xScale: null,\n      modal: false,\n      selection: null\n    };\n\n    // References for D3 rendering\n    this.xAxisRef = React.createRef();\n    this.brushRef = React.createRef();\n\n    this.renderAxes = this.renderAxes.bind(this);\n    this.renderBrushes = this.renderBrushes.bind(this);\n    this.clearModal = this.clearModal.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps) {\n    const { dataSet } = nextProps;\n    if (!dataSet) return {};\n\n    const margin = {\n      top: 30,\n      right: window.innerWidth / 8,\n      bottom: 30,\n      left: window.innerWidth / 8 > 120 ? window.innerWidth / 8 : 120\n    };\n    const width =\n      window.innerWidth - window.innerWidth / 20 - margin.left - margin.right;\n    const height = 2000 - margin.top - margin.bottom;\n\n    const parseTime = d3.timeParse(\"%Y-%m-%d\");\n\n    // Nest data according to genre and dates\n    const nested = d3\n      .nest()\n      .key(d => d.genre)\n      .key(d => parseTime(d.date))\n      .rollup(v => {\n        return {\n          weight: d3.sum(v, d => d.weight),\n          details: v\n            .map(date => {\n              return date.details;\n            })\n            .filter((thing, index, self) => {\n              // Object duplicate filter found at https://stackoverflow.com/questions/2218999/remove-duplicates-from-an-array-of-objects-in-javascript#comment72641733_36744732\n              return (\n                self.findIndex(\n                  t => t.place === thing.place && t.name === thing.name\n                ) === index\n              );\n            })\n        };\n      })\n      .entries(dataSet)\n      .sort((a, b) => {\n        // Organise after genre cumulative weight\n        return (\n          d3.sum(b.values, d => d.value.weight) -\n          d3.sum(a.values, d => d.value.weight)\n        );\n      });\n\n    const xExtent = d3.extent(dataSet, d => parseTime(d.date));\n\n    // Adds missing dates into dataset with zero values\n    function formatZeroValues(nestedData, dateExtent) {\n      function dateCompare(date1, date2) {\n        return (\n          date1.getFullYear() === date2.getFullYear() &&\n          // getMonth is 0-indexed\n          date1.getMonth() === date2.getMonth() &&\n          date1.getDate() === date2.getDate()\n        );\n      }\n\n      const formattedData = [];\n\n      nestedData.forEach(genre => {\n        const newGenre = {\n          key: genre.key,\n          values: []\n        };\n\n        for (\n          let d = new Date(dateExtent[0]);\n          d < dateExtent[1];\n          d.setDate(d.getDate() + 1)\n        ) {\n          let found = false;\n          let curValue;\n          genre.values.forEach(date => {\n            const cur = new Date(date.key);\n\n            if (dateCompare(d, cur)) {\n              found = true;\n              curValue = date;\n            }\n          });\n          if (found) {\n            newGenre.values.push(curValue);\n          } else {\n            newGenre.values.push({\n              key: new Date(d),\n              value: { weight: 0 }\n            });\n          }\n        }\n\n        formattedData.push(newGenre);\n      });\n\n      return formattedData;\n    }\n\n    const usableData = formatZeroValues(nested, xExtent);\n\n    const xScale = d3\n      .scaleTime()\n      .domain(xExtent)\n      .range([0, width]);\n\n    // Global Y scale function used for colouring\n    const globalYScale = d3\n      .scaleLinear()\n      .domain([\n        d3.min(usableData, d => {\n          return d3.min(d.values, v => v.value.weight);\n        }),\n        d3.max(usableData, d => {\n          return d3.max(d.values, v => v.value.weight);\n        })\n      ])\n      .range([0, 1]);\n\n    // Amount of rectangles making up each genre chart\n    const rectCount = Math.floor(window.innerWidth / 4);\n\n    usableData.forEach(genre => {\n      const yExtent = [\n        d3.min(genre.values, d => d.value.weight),\n        d3.max(genre.values, d => d.value.weight)\n      ];\n\n      const yScale = d3\n        .scaleLinear()\n        .domain(yExtent)\n        .range([0, height / 40 - 5]);\n\n      genre.colorScale = d3\n        .scaleLinear()\n        .domain(genre.values.map(d => xScale(new Date(d.key))))\n        .range(genre.values.map(d => globalYScale(d.value.weight)));\n\n      genre.yScale = d3\n        .scaleLinear()\n        .domain(genre.values.map(d => xScale(new Date(d.key))))\n        .range(genre.values.map(d => yScale(d.value.weight)));\n\n      genre.xScale = d3\n        .scaleBand()\n        .domain(d3.range(rectCount))\n        .paddingInner(0.05)\n        .range([0, width]);\n    });\n\n    return {\n      data: usableData,\n      dimensions: {\n        margin,\n        width,\n        height\n      },\n      rectCount,\n      xScale,\n      globalYScale\n    };\n  }\n\n  componentDidMount() {\n    this.renderAxes();\n    this.renderBrushes();\n  }\n\n  componentDidUpdate() {\n    this.renderAxes();\n    this.renderBrushes();\n  }\n\n  renderAxes() {\n    const xAxis = d3.axisTop();\n\n    // Determine responsive amount of ticks by window width\n    xAxis.ticks(window.innerWidth / 100);\n\n    xAxis.scale(this.state.xScale);\n    d3.select(this.xAxisRef.current).call(xAxis);\n  }\n\n  renderBrushes() {\n    this.state.data.forEach((point, ind) => {\n      const topLeft = [\n        this.state.dimensions.margin.left,\n        this.state.dimensions.margin.top +\n          ind * (this.state.dimensions.height / 20) +\n          18\n      ];\n      const bottomRight = [\n        this.state.dimensions.width + this.state.dimensions.margin.left,\n        this.state.dimensions.margin.top +\n          (ind + 1) * (this.state.dimensions.height / 20) +\n          18\n      ];\n\n      const currentBrush = d3\n        .select(this.brushRef.current)\n        .append(\"g\")\n        .attr(\"id\", point.key + \"-brush\")\n        .attr(\"class\", \"genre-brush\");\n\n      const genreBrush = d3\n        .brushX()\n        .extent([\n          topLeft, // Top left\n          bottomRight // Bottom right\n        ])\n        .on(\"end\", () => {\n          if (!d3.event.selection) return;\n          const [minX, maxX] = d3.event.selection;\n          const range = [\n            this.state.xScale.invert(minX - this.state.dimensions.margin.left),\n            this.state.xScale.invert(maxX - this.state.dimensions.margin.left)\n          ];\n          const events = [];\n\n          point.values.forEach(date => {\n            if (date.value.weight !== 0) {\n              const curDate = new Date(date.key);\n              if (curDate >= range[0] && curDate <= range[1]) {\n                const hitConcerts = date.value.details;\n                hitConcerts.forEach(hit => {\n                  events.push(hit);\n                });\n              }\n            }\n          });\n\n          this.setState({\n            modal: true,\n            selection: {\n              name: point.key,\n              location: this.props.location,\n              events,\n              range: range.map(dates => d3.timeFormat(\"%B %d, %Y\")(dates))\n            }\n          });\n          currentBrush.call(genreBrush.move, null);\n        });\n\n      currentBrush.call(genreBrush);\n    });\n  }\n\n  clearModal() {\n    this.setState({\n      modal: false\n    });\n  }\n\n  render() {\n    const dimensions = this.state.dimensions;\n    const rectcount = this.state.rectCount;\n\n    function renderGenre(data) {\n      return data.map((genre, index) => {\n        return (\n          <g\n            key={genre.key}\n            className=\"genre-group\"\n            transform={`translate(${0}, ${(index + 1) *\n              (dimensions.height / 20)})`}\n          >\n            <text x={dimensions.margin.left - 10} y=\"3\" className=\"genre-label\">\n              {genre.key.toLowerCase()}\n            </text>\n            <g transform={`translate(${dimensions.margin.left}, 0)`}>\n              {drawWaveRects(calcWaveRects(genre, rectcount))}\n            </g>\n          </g>\n        );\n      });\n\n      function calcWaveRects(genre, count) {\n        return d3.range(count).map((rect, ind) => {\n          // console.log(rect);\n          const x = genre.xScale(rect);\n          const width = genre.xScale.bandwidth();\n          const y = genre.yScale(x);\n          const height = y * 2;\n          const id = genre.key + \"-\" + ind;\n\n          const cScale = chroma.scale([\"6d76af\", \"ee7943\"]);\n          const color = cScale(genre.colorScale(x)).hex();\n          // const color = this.state.globalYScale();\n\n          // console.log(y);\n\n          return {\n            x,\n            width,\n            y,\n            height,\n            id,\n            color\n          };\n        });\n      }\n\n      function drawWaveRects(rects) {\n        return rects.map(rect => {\n          const empty = rect.y <= 0;\n          const noValue = 0.2;\n          return (\n            <g key={rect.id} className={empty ? \"empty-bar\" : \"data-bar\"}>\n              <rect\n                x={rect.x}\n                y={empty ? -noValue / 2 : -rect.y}\n                width={rect.width}\n                height={empty ? noValue : rect.height}\n                fill={rect.color}\n              />\n            </g>\n          );\n        });\n      }\n    }\n\n    const data = this.state.data;\n\n    if (data) {\n      return (\n        <div>\n          <svg\n            width={\n              dimensions.width +\n              dimensions.margin.left +\n              dimensions.margin.right\n            }\n            height={\n              dimensions.height +\n              dimensions.margin.top +\n              dimensions.margin.bottom\n            }\n          >\n            <Trail\n              items={renderGenre(data)}\n              keys={item => item.key + \"barz\"}\n              from={{ opacity: 0, transform: \"translate3d(0,-40px,0)\" }}\n              to={{ opacity: 1, transform: \"translate3d(0,0px,0)\" }}\n            >\n              {item => props => <animated.g style={props}>{item}</animated.g>}\n            </Trail>\n            <g\n              ref={this.xAxisRef}\n              transform={`translate(${dimensions.margin.left}, ${\n                this.state.dimensions.margin.top\n              })`}\n            />\n            <g ref={this.brushRef} />\n          </svg>\n          <DetailsModal\n            active={this.state.modal}\n            exitFunc={this.clearModal}\n            selectedData={this.state.selection}\n          />\n        </div>\n      );\n    } else return null;\n  }\n}\n\nexport default JoyPlot;\n","import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport SeekZone from \"./SeekZone\";\nimport LoadingAnimation from \"./LoadingAnimation\";\nimport JoyPlot from \"./DataVisuals\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: null,\n      loading: true,\n      ready: false,\n      stats: null\n    };\n    this.wakeUpServer = this.wakeUpServer.bind(this);\n    this.locationSearch = this.locationSearch.bind(this);\n    this.homeReset = this.homeReset.bind(this);\n  }\n\n  componentDidMount() {\n    this.wakeUpServer();\n  }\n\n  wakeUpServer() {\n    const URL = \"https://music-forecast.herokuapp.com/status/\";\n\n    fetch(URL).then(response => {\n      if (response.status === 200) {\n        this.setState({\n          loading: false,\n          ready: true\n        });\n      }\n    });\n  }\n\n  locationSearch(locationId, string) {\n    this.setState({\n      location: string,\n      loading: true,\n      stats: null\n    });\n\n    const URL = \"https://music-forecast.herokuapp.com/events/\" + locationId;\n\n    fetch(URL)\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        this.setState({\n          loading: false,\n          stats: data\n        });\n      });\n  }\n\n  homeReset() {\n    this.setState({\n      location: null,\n      loading: false,\n      ready: false,\n      stats: null\n    });\n    this.wakeUpServer();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img\n            src={logo}\n            className=\"App-logo\"\n            alt=\"logo\"\n            onClick={this.homeReset}\n          />\n        </header>\n        {this.state.ready ? (\n          <div id=\"main-content\">\n            <SeekZone locationSearch={this.locationSearch} />\n            {this.state.location && (\n              <div className=\"locationName\">{this.state.location}</div>\n            )}\n            <LoadingAnimation\n              active={this.state.loading}\n              text=\"retrieving results\"\n            />\n            {this.state.stats ? (\n              <div className=\"data-visuals\">\n                <JoyPlot\n                  dataSet={this.state.stats}\n                  location={this.state.location}\n                />\n              </div>\n            ) : this.state.loading ? null : (\n              <div id=\"notes\">\n                <div id=\"how-to\">\n                  <h4>How to use:</h4>\n                  <ul id=\"how-to-steps\">\n                    <li>Search for a city</li>\n                    <li>The top 20 genres in that location are returned</li>\n                    <li>\n                      Click and drag to see the shows in the selected timeframe\n                    </li>\n                  </ul>\n                </div>\n                {/* <p id=\"bug-note\">\n                  (7 April 2019) note: The entire world is not in the midst of\n                  some dreamy latvian trippy sludge metal takeover, the last.fm\n                  API is currently somewhat broken...\n                </p> */}\n              </div>\n            )}\n          </div>\n        ) : (\n          <LoadingAnimation\n            active={this.state.loading}\n            text=\"contacting server\"\n          />\n        )}\n        <div id=\"logo-padding\" />\n        <a href=\"../\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            id=\"mswsn-logo\"\n            viewBox=\"0 0 104 18.5\"\n          >\n            <title>mswsn</title>\n            <g id=\"Layer_1-2\" data-name=\"Layer 1\">\n              <path d=\"M17.5,0h-3a1,1,0,0,0-1,1V3.5a1,1,0,0,1-1,1h-2a1,1,0,0,1-1-1V1a1,1,0,0,0-1-1h-3a1,1,0,0,0-1,1V3.5a1,1,0,0,1-1,1H1a1,1,0,0,0-1,1v12a1,1,0,0,0,1,1H4a1,1,0,0,0,1-1V6A1,1,0,0,1,6,5H8A1,1,0,0,1,9,6V8.5a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V6a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V17.5a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V5.5a1,1,0,0,0-1-1H19.5a1,1,0,0,1-1-1V1A1,1,0,0,0,17.5,0Z\" />\n              <path d=\"M62,13.5H60a1,1,0,0,1-1-1V10a1,1,0,0,0-1-1H55a1,1,0,0,0-1,1v2.5a1,1,0,0,1-1,1H51a1,1,0,0,1-1-1V1a1,1,0,0,0-1-1H46a1,1,0,0,0-1,1V13a1,1,0,0,0,1,1h2.5a1,1,0,0,1,1,1v2.5a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V15a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1v2.5a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V15a1,1,0,0,1,1-1H67a1,1,0,0,0,1-1V1a1,1,0,0,0-1-1H64a1,1,0,0,0-1,1V12.5A1,1,0,0,1,62,13.5Z\" />\n              <path d=\"M28,9.5h3a1,1,0,0,0,1-1V6a1,1,0,0,1,1-1h7a1,1,0,0,0,1-1V1a1,1,0,0,0-1-1H28a1,1,0,0,0-1,1V8.5A1,1,0,0,0,28,9.5Z\" />\n              <path d=\"M35,13.5H28a1,1,0,0,0-1,1v3a1,1,0,0,0,1,1H40a1,1,0,0,0,1-1V10a1,1,0,0,0-1-1H37a1,1,0,0,0-1,1v2.5A1,1,0,0,1,35,13.5Z\" />\n              <path d=\"M99.5,3.5V1a1,1,0,0,0-1-1H91a1,1,0,0,0-1,1V17.5a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V6a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V17.5a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V5.5a1,1,0,0,0-1-1h-2.5A1,1,0,0,1,99.5,3.5Z\" />\n              <path d=\"M73,9.5h3a1,1,0,0,0,1-1V6a1,1,0,0,1,1-1h7a1,1,0,0,0,1-1V1a1,1,0,0,0-1-1H73a1,1,0,0,0-1,1V8.5A1,1,0,0,0,73,9.5Z\" />\n              <path d=\"M80,13.5H73a1,1,0,0,0-1,1v3a1,1,0,0,0,1,1H85a1,1,0,0,0,1-1V10a1,1,0,0,0-1-1H82a1,1,0,0,0-1,1v2.5A1,1,0,0,1,80,13.5Z\" />\n            </g>\n          </svg>\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}